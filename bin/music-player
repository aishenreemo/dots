#!/bin/bash
# music player in the terminal :p
# dependencies
# - tmux
# - zsh
# - cmus (music player)
# - peaclock (time)
# - unimatrix (cmatrix)
# - cava (audio visualizer)

sh="zsh"
SESSION="cmus"
WINDOW="music"

if tmux ls | grep "$SESSION"
then
    tmux attach -t cmus
else
    tmux start
    tmux new-session -d -s "$SESSION" -n "$WINDOW" "$sh -c cmus"
    tmux split-window -h "$sh -c peaclock"
    tmux split-window -v "$sh -c unimatrix"
    tmux split-window -v "$sh -c cava"
    tmux select-pane -t 0
    tmux send-keys -t 0 ":colorscheme green" Enter
    tmux send-keys -t 1 "s"
    tmux send-keys -t 3 "fff" Right
    tmux attach -t "$SESSION"
    tmux switch -t "$SESSION"
fi
